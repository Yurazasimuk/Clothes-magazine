<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Адмінка</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<h1>Адмінка</h1>
<h2>Додати товар</h2>
<form id="add-product-form">
    <input type="text" id="pname" placeholder="Назва" required>
    <input type="text" id="pdesc" placeholder="Опис" required>
    <input type="number" id="pprice" placeholder="Ціна" required>
    <input type="text" id="pimage" placeholder="URL зображення" required>
    <button type="submit">Додати</button>
</form>
<div id="admin-products"></div>

<script src="js/script.js"></script>
<script>
function displayAdminProducts() {
    let products = JSON.parse(localStorage.getItem("products")) || [];
    let adminDiv = document.getElementById("admin-products");
    adminDiv.innerHTML = "";
    products.forEach((p,i) => {
        adminDiv.innerHTML += `<p>${p.name} - ${p.price} грн <button onclick="deleteProduct(${i})">Видалити</button></p>`;
    });
}
document.getElementById("add-product-form").onsubmit = function(e) {
    e.preventDefault();
    let products = JSON.parse(localStorage.getItem("products")) || [];
    let newProduct = {
        name: document.getElementById("pname").value,
        description: document.getElementById("pdesc").value,
        price: parseFloat(document.getElementById("pprice").value),
        image: document.getElementById("pimage").value
    };
    products.push(newProduct);
    localStorage.setItem("products", JSON.stringify(products));
    displayAdminProducts();
}
function deleteProduct(i){
    let products = JSON.parse(localStorage.getItem("products")) || [];
    products.splice(i,1);
    localStorage.setItem("products", JSON.stringify(products));
    displayAdminProducts();
}
displayAdminProducts();
</script>
</body>
</html>
